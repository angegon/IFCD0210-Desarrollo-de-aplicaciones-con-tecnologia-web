<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funciones de String</title>
    <script>
        function fFuncion(){
            var html ="";
            var texto_escrito = document.getElementById("texto").value;
            // CharAt  (carácter que ocuma la posición i en el String)            
            html += "Has escrito " + texto_escrito.length + " caracteres<br/>";
            html += "El 2º carácter que has escrito es " + texto_escrito.charAt(1) + "<br/>";
            html += "Su código ASCII es " + texto_escrito.charCodeAt(1) + "<br/>";
            // indexOf devuelve la posicion donde encuentra una subcadena o -1            
            html += "Las letras La ocupan desde la posicion " + texto_escrito.indexOf("La") + "<br/>";
            html += "El último espacio está en la posicion " + texto_escrito.lastIndexOf(" ") + "<br/>";
            html += "Comienza por AL? " + texto_escrito.startsWith("AL") + "<br/>";
            html += "Acaba con cha? " + texto_escrito.endsWith("cha") + "<br/>";
            html += "Contiene lug? " + texto_escrito.includes("lug") + "<br/>";
            // CSV (comma separated values)
            var x ="27/5/2021";
            var campos = x.split("/");
            html += "Los campos por separado son " + campos[0] + "-" +campos[1] + "-" + campos[2] + "<br/>";
            
            html += "la subcadena desde el 2 al 8 es #" + texto_escrito.substring(2,8) + "#<br/>";
            html += "la subcadena de el 2 , 5 caracteres es #" + texto_escrito.substr(2,5) + "#<br/>";
            html += "El texto en mayúsculas es " + texto_escrito.toUpperCase() + "#<br/>";
            html += "El texto en minúsculas es " + texto_escrito.toLowerCase() + "#<br/>";

            var alfa = "       p e p e       ";
            
            html += "El texto sin espacios es #" + alfa.trim() + "#<br/>";
            // Sacar el texto letra a letra en vertical
            for(i=0; i<texto_escrito.length; i++){
                html += texto_escrito.charAt(i).toUpperCase() + "<br/>";
            }

            document.getElementById("visor").innerHTML = html;
            const pi= 3.14;
            //pi=2;
        }
    </script>    
</head>
<body>
    Texto <input type="text" id="texto" maxlength="20" value="En un lugar de La Mancha"/>
    <input type="button" value="Analisis Funciones String" onclick="fFuncion()">
    <div id='visor'></div>
</body>
</html>